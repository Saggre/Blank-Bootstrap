(function(a){a.fn.imagefill=function(l){var j=this,i=1/1,d=0,h=0,f={runOnce:false,target:"img",throttle:200},e=a.extend({},f,l);var b=j.find(e.target).addClass("loading").css({position:"absolute"});var g=j.css("position");j.css({overflow:"hidden",position:(g==="static")?"relative":g});j.each(function(){d+=a(this).outerHeight();h+=a(this).outerWidth()});j.imagesLoaded().done(function(m){i=b.width()/b.height();b.removeClass("loading");c();if(!e.runOnce){k()}});function c(){d=0;h=0;j.each(function(){i=a(this).find(e.target).width()/a(this).find(e.target).height();var m=a(this).outerWidth(),n=a(this).outerHeight();d+=a(this).outerHeight();h+=a(this).outerWidth();var o=m/n;if(o<i){a(this).find(e.target).css({width:"auto",height:n,top:0,left:-(n*i-m)/2})}else{a(this).find(e.target).css({width:m,height:"auto",top:-(m/i-n)/2,left:0})}})}function k(){var n=0,m=0;j.each(function(){m+=a(this).outerHeight();n+=a(this).outerWidth()});if(d!==m||h!==n){c()}setTimeout(k,e.throttle)}return this}}(jQuery));