!function(){function V(a){return"undefined"==typeof this||Object.getPrototypeOf(this)!==V.prototype?new V(a):(k=this,k.version="3.3.2",k.tools=new F,k.isSupported()?(k.tools.extend(k.defaults,a||{}),k.defaults.container=G(k.defaults),k.store={elements:{},containers:[]},k.sequences={},k.history=[],k.uid=0,k.initialized=!1):"undefined"!=typeof console&&null!==console,k)}function G(a){if(a&&a.container){if("string"==typeof a.container){return window.document.documentElement.querySelector(a.container)}if(k.tools.isNode(a.container)){return a.container}}return k.defaults.container}function M(b,a){return"string"==typeof b?Array.prototype.slice.call(a.querySelectorAll(b)):k.tools.isNode(b)?[b]:k.tools.isNodeList(b)?Array.prototype.slice.call(b):[]}function Q(){return ++k.uid}function L(b,a,c){a.container&&(a.container=c),b.config?b.config=k.tools.extendClone(b.config,a):b.config=k.tools.extendClone(k.defaults,a),"top"===b.config.origin||"bottom"===b.config.origin?b.config.axis="Y":b.config.axis="X"}function I(b){var a=window.getComputedStyle(b.domEl);b.styles||(b.styles={transition:{},transform:{},computed:{}},b.styles.inline=b.domEl.getAttribute("style")||"",b.styles.inline+="; visibility: visible; ",b.styles.computed.opacity=a.opacity,a.transition&&"all 0s ease 0s"!==a.transition?b.styles.computed.transition=a.transition+", ":b.styles.computed.transition=""),b.styles.transition.instant=H(b,0),b.styles.transition.delayed=H(b,b.config.delay),b.styles.transform.initial=" -webkit-transform:",b.styles.transform.target=" -webkit-transform:",Z(b),b.styles.transform.initial+="transform:",b.styles.transform.target+="transform:",Z(b)}function H(b,a){var c=b.config;return"-webkit-transition: "+b.styles.computed.transition+"-webkit-transform "+c.duration/1000+"s "+c.easing+" "+a/1000+"s, opacity "+c.duration/1000+"s "+c.easing+" "+a/1000+"s; transition: "+b.styles.computed.transition+"transform "+c.duration/1000+"s "+c.easing+" "+a/1000+"s, opacity "+c.duration/1000+"s "+c.easing+" "+a/1000+"s; "}function Z(c){var b,d=c.config,a=c.styles.transform;b="top"===d.origin||"left"===d.origin?/^-/.test(d.distance)?d.distance.substr(1):"-"+d.distance:d.distance,parseInt(d.distance)&&(a.initial+=" translate"+d.axis+"("+b+")",a.target+=" translate"+d.axis+"(0)"),d.scale&&(a.initial+=" scale("+d.scale+")",a.target+=" scale(1)"),d.rotate.x&&(a.initial+=" rotateX("+d.rotate.x+"deg)",a.target+=" rotateX(0)"),d.rotate.y&&(a.initial+=" rotateY("+d.rotate.y+"deg)",a.target+=" rotateY(0)"),d.rotate.z&&(a.initial+=" rotateZ("+d.rotate.z+"deg)",a.target+=" rotateZ(0)"),a.initial+="; opacity: "+d.opacity+";",a.target+="; opacity: "+c.styles.computed.opacity+";"}function P(b){var a=b.config.container;a&&k.store.containers.indexOf(a)===-1&&k.store.containers.push(b.config.container),k.store.elements[b.id]=b}function X(c,b,d){var a={target:c,config:b,interval:d};k.history.push(a)}function U(){if(k.isSupported()){z();for(var a=0;a<k.store.containers.length;a++){k.store.containers[a].addEventListener("scroll",W),k.store.containers[a].addEventListener("resize",W)}k.initialized||(window.addEventListener("scroll",W),window.addEventListener("resize",W),k.initialized=!0)}return k}function W(){j(z)}function D(){var c,b,d,a;k.tools.forOwn(k.sequences,function(f){a=k.sequences[f],c=!1;for(var e=0;e<a.elemIds.length;e++){d=a.elemIds[e],b=k.store.elements[d],J(b)&&!c&&(c=!0)}a.active=c})}function z(){var b,a;D(),k.tools.forOwn(k.store.elements,function(c){a=k.store.elements[c],b=B(a),S(a)?(a.config.beforeReveal(a.domEl),b?a.domEl.setAttribute("style",a.styles.inline+a.styles.transform.target+a.styles.transition.delayed):a.domEl.setAttribute("style",a.styles.inline+a.styles.transform.target+a.styles.transition.instant),K("reveal",a,b),a.revealing=!0,a.seen=!0,a.sequence&&N(a,b)):C(a)&&(a.config.beforeReset(a.domEl),a.domEl.setAttribute("style",a.styles.inline+a.styles.transform.initial+a.styles.transition.instant),K("reset",a),a.revealing=!1)})}function N(c,b){var f=0,a=0,d=k.sequences[c.sequence.id];d.blocked=!0,b&&"onload"===c.config.useDelay&&(a=c.config.delay),c.sequence.timer&&(f=Math.abs(c.sequence.timer.started-new Date),window.clearTimeout(c.sequence.timer)),c.sequence.timer={started:new Date},c.sequence.timer.clock=window.setTimeout(function(){d.blocked=!1,c.sequence.timer=null,W()},Math.abs(d.interval)+a-f)}function K(d,b,g){var a=0,f=0,c="after";switch(d){case"reveal":f=b.config.duration,g&&(f+=b.config.delay),c+="Reveal";break;case"reset":f=b.config.duration,c+="Reset"}b.timer&&(a=Math.abs(b.timer.started-new Date),window.clearTimeout(b.timer.clock)),b.timer={started:new Date},b.timer.clock=window.setTimeout(function(){b.config[c](b.domEl),b.timer=null},f-a)}function S(b){if(b.sequence){var a=k.sequences[b.sequence.id];return a.active&&!a.blocked&&!b.revealing&&!b.disabled}return J(b)&&!b.revealing&&!b.disabled}function B(b){var a=b.config.useDelay;return"always"===a||"onload"===a&&!k.initialized||"once"===a&&!b.seen}function C(b){if(b.sequence){var a=k.sequences[b.sequence.id];return !a.active&&b.config.reset&&b.revealing&&!b.disabled}return !J(b)&&b.config.reset&&b.revealing&&!b.disabled}function Y(a){return{width:a.clientWidth,height:a.clientHeight}}function R(b){if(b&&b!==window.document.documentElement){var a=A(b);return{x:b.scrollLeft+a.left,y:b.scrollTop+a.top}}return{x:window.pageXOffset,y:window.pageYOffset}}function A(c){var b=0,f=0,a=c.offsetHeight,d=c.offsetWidth;do{isNaN(c.offsetTop)||(b+=c.offsetTop),isNaN(c.offsetLeft)||(f+=c.offsetLeft),c=c.offsetParent}while(c);return{top:b,left:f,height:a,width:d}}function J(v){function O(){var e=x+y*T,r=q+m*T,d=w-y*T,o=E-m*T,a=b.y+v.config.viewOffset.top,l=b.x+v.config.viewOffset.left,f=b.y-v.config.viewOffset.bottom+g.height,c=b.x-v.config.viewOffset.right+g.width;return e<f&&d>a&&r>l&&o<c}function h(){return"fixed"===window.getComputedStyle(v.domEl).position}var p=A(v.domEl),g=Y(v.config.container),b=R(v.config.container),T=v.config.viewFactor,y=p.height,m=p.width,x=p.top,q=p.left,w=x+y,E=q+m;return O()||h()}function F(){}var k,j;V.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:0.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:window.document.documentElement,mobile:!0,reset:!1,useDelay:"always",viewFactor:0.2,viewOffset:{top:0,right:0,bottom:0,left:0},beforeReveal:function(a){},beforeReset:function(a){},afterReveal:function(a){},afterReset:function(a){}},V.prototype.isSupported=function(){var a=document.documentElement.style;return"WebkitTransition" in a&&"WebkitTransform" in a||"transition" in a&&"transform" in a},V.prototype.reveal=function(h,t,n,i){var r,l,c,b,f,o;if(void 0!==t&&"number"==typeof t?(n=t,t={}):void 0!==t&&null!==t||(t={}),r=G(t),l=M(h,r),!l.length){return k}n&&"number"==typeof n&&(o=Q(),f=k.sequences[o]={id:o,interval:n,elemIds:[],active:!1});for(var q=0;q<l.length;q++){b=l[q].getAttribute("data-sr-id"),b?c=k.store.elements[b]:(c={id:Q(),domEl:l[q],seen:!1,revealing:!1},c.domEl.setAttribute("data-sr-id",c.id)),f&&(c.sequence={id:f.id,index:f.elemIds.length},f.elemIds.push(c.id)),L(c,t,r),I(c),P(c),k.tools.isMobile()&&!c.config.mobile||!k.isSupported()?(c.domEl.setAttribute("style",c.styles.inline),c.disabled=!0):c.revealing||c.domEl.setAttribute("style",c.styles.inline+c.styles.transform.initial)}return !i&&k.isSupported()&&(X(h,t,n),k.initTimeout&&window.clearTimeout(k.initTimeout),k.initTimeout=window.setTimeout(U,0)),k},V.prototype.sync=function(){if(k.history.length&&k.isSupported()){for(var b=0;b<k.history.length;b++){var a=k.history[b];k.reveal(a.target,a.config,a.interval,!0)}U()}return k},F.prototype.isObject=function(a){return null!==a&&"object"==typeof a&&a.constructor===Object},F.prototype.isNode=function(a){return"object"==typeof window.Node?a instanceof window.Node:a&&"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName},F.prototype.isNodeList=function(b){var a=Object.prototype.toString.call(b),c=/^\[object (HTMLCollection|NodeList|Object)\]$/;return"object"==typeof window.NodeList?b instanceof window.NodeList:b&&"object"==typeof b&&c.test(a)&&"number"==typeof b.length&&(0===b.length||this.isNode(b[0]))},F.prototype.forOwn=function(b,a){if(!this.isObject(b)){throw new TypeError('Expected "object", but received "'+typeof b+'".')}for(var c in b){b.hasOwnProperty(c)&&a(c)}},F.prototype.extend=function(b,a){return this.forOwn(a,function(c){this.isObject(a[c])?(b[c]&&this.isObject(b[c])||(b[c]={}),this.extend(b[c],a[c])):b[c]=a[c]}.bind(this)),b},F.prototype.extendClone=function(b,a){return this.extend(this.extend({},b),a)},F.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},j=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1000/60)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return V}):"undefined"!=typeof module&&module.exports?module.exports=V:window.ScrollReveal=V}();